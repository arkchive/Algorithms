## 문제 분석 요약

- **요구사항**:
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/379bcd13-c8d3-4765-aa5c-29f362b1a232/51c18165-24b2-48a0-b724-d0d48aac3054/image.png)
    
    빨간 실선은 어린 왕자가 출발점에서 도착점까지 도달하는 데 있어서 필요한 행성계 진입/이탈 횟수를 최소화하는 경로이며, 원은 행성계의 경계를 의미한다. 적어도 3번의 행성계 진입/이탈이 필요함을 알 수있다.
    
    위와 같은 은하수 지도, 출발점, 도착점이 주어졌을 때 어린 왕자에게 필요한 최소의 행성계 진입/이탈 횟수를 구하는 프로그램을 작성해보자. 
    
    - 행성계의 경계가 맞닿거나 서로 교차하는 경우는 없다.
    - 출발점이나 도착점이 행성계 경계에 걸쳐진 경우 역시 입력으로 주어지지 않는다.
- **입력**:
    - 테스트 케이스 개수 T
    - 출발점$(x_1, y_1)$과 도착점$(x_2, y_2)$이 주어진다.
    - 행성계의 개수 n
    - 행성계의 중점과 반지름$(c_x, c_y, r)$
- **출력**:
    
    각 테스트 케이스에 대해 어린 왕자가 거쳐야 할 최소의 행성계 진입/이탈 횟수 출력
    
- **제한:**
    - -1000 ≤ $x_1, y_1, x_2, y_2, c_x, c_y$ ≤ 1000
    - 1 ≤ r ≤ 1000
    - 1 ≤ n ≤ 50
    - 좌표와 반지름은 모두 정수

## 알고리즘 설계

1. 테스트 케이스 개수T 입력받는다.
2. 각 테스트 케이스에 대한 주어진 값들을 입력받는다.
3. 출발점과 도착점이 원의 경계를 통과해야 하는지 여부 판단(두 점이 원의 내부에 있는지)
    1. 출발점과 도착점에서 원의 중심까지의 거리를 계산하고, 그 거리가 원의 반지름보다 작은 지 확인
    2. 출발점이 원 내부에 있고 도착점이 외부에 있거나, 그 반대의 경우에는 해당 원을 진입 또는 이탈하게 된다.
    3. 출발점과 도착점이 모두 원 내부에 있거나 모두 원 외부에 있는 경우 경계를 넘지 않는다. 
4. 모든 원에 대한 위 절차를 반복하고, 최소 진입/이탈 횟수를 출력한다. 

## 코드

```python
import math

# 주어진 점이 원 내부에 있는지 확인하는 함수
def is_inside_circle(x, y, cx, cy, r):
    # 점과 원 중심 사이의 거리 계산
    d = math.sqrt((x-cx) ** 2 + (y-cy) ** 2)

    # 거리가 반지름보다 작으면 원 내부에 있음
    return d < r

# 테스트 케이스 개수 입력
T = int(input())

for _ in range(T):
    # 출발점, 도착점 입력
    x1, y1, x2, y2 = map(int, input().split())
    # 행성계의 개수
    n = int(input())

    # 행성계 진입/이탈 횟수
    count = 0

    # 각 행성계에 대한 처리
    for _ in range(n):
        cx, cy, r = map(int, input().split())

        # 출발점이 원 내부에 있는지 확인
        start = is_inside_circle(x1, y1, cx, cy, r)

        # 도착점이 원 내부에 있는지 확인
        end = is_inside_circle(x2, y2, cx, cy, r)

        # 출발점과 도착점 둘 중 한쪽만 원 내부에 있으면 경계를 통과함
        if start != end:
            count += 1

    print(count)
```

## 시간 복잡도

**시간 복잡도**: O( $T\times n$ )

- 테스트 케이스에 대해 n개의 행성계를 순회하면서 출발점과 도착점이 해당 행성계에 속하는지 계산하므로 O( $T\times n$ )이다.

## 틀린 이유

- 

## 다른 풀이

- 비트마스크를 활용한 풀이? 뭔지 모르겠지만 거리 제곱근 연산이 가장 효율적인 것 같다.

## 느낀 점 or 기억할 정보

- 원이 주어졌으니 거리 계산이 필요하겠거니 생각은 했지만 문제를 보고 뭐 어쩌라고 싶었음..
- 출발점과 도착점이 각 행성계 원 내부에 있는지를 확인하고 한 쪽만 원 내부에 있는 경우 경계를 통과하는 것이라는 것을 판단하는 게 중요